## IAM (Identity and Access Management)

### 1. 역할
- AWS 의 보안 및 관리를 담당하는 글로벌 서비스
- AWS 계정 관리, 계정 권한 제어, 계정 보안 관리
- 다른 계정과의 리소스 공유

### 2. 구성
- 사용자 (User)
  - AWS 를 사용하는 사람 혹은 애플리케이션
- 그룹 (Group)
  - IAM 사용자의 집합
  - 그룹에 속한 사용자는 그룹에 부여된 권한을 사용 가능
- 역할 (Role)
  - AWS 권한의 집합
  - 특정 사용자나 그룹에서 역할을 받아서 사용
- 정책 (Policy)
  - 사용자, 그룹, 역할이 어떤 행위를 할 수 있는지 정의된 JSON 문서
    - 구성
    ```text
    Resource: 대상 AWS 리소스
    Action: 행동
    Effect: 허용/거부
    Condition: 정책 적용 조건 (IP 주소, 시간, 태그 등)
    ```

### 3. 권한 검증 과정
- 사용자
    ```mermaid
    flowchart TD
        
        U[User] -->  C1{"사용자가<br>해당 리소스의 정책을<br>보유하고 있는가?"}
        C1 --> |네| R(AWS Resource)
        C1 --> |아니오| G{"사용자가 속한 그룹이<br>해당 리소스의 정책을<br>보유하고 있는가?"}
        G --> |네| R
        G --> |아니오| UA(Unauthorized)
    ```

- 서비스
  ```mermaid
    flowchart TD
        
        S[AWS Service] -->  C1{"서비스가<br>해당 리소스의 역할을<br>보유하고 있는가?"}
        C1 --> |네| R(AWS Resource)
        C1 --> |아니오| UA(Unauthorized)
  ```